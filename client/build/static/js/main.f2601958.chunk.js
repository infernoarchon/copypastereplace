(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(61)},31:function(e,t,n){},32:function(e,t,n){e.exports=n.p+"static/media/logo.495d93cc.svg"},33:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),i=n.n(r),c=(n(31),n(7)),s=n(10),u=n(13),l=n(11),d=n(14),p=(n(32),n(33),n(23)),h=n(8),f=n(6),m=n.n(f);n(52).config();var g={getBooks:function(){return m.a.get("/api/books")},searchBooks:function(e){return m.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&key="+Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY)},getBook:function(e){return m.a.get("/api/books/"+e)},deleteBook:function(e){return m.a.delete("/api/books/"+e)},saveBook:function(e){return m.a.post("/api/books",e)},sendText:function(e){return m.a.post("https://language.googleapis.com/v1/documents:annotateText?key="+Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GOOGLE_API_KEY,{document:e.document,features:{extractSyntax:!0,extractEntities:!0},encodingType:"UTF8"})}};function b(e){return o.a.createElement("input",Object.assign({type:"text",className:"form-control mb-2"},e))}function E(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("textarea",Object.assign({className:"form-control",rows:"10",cols:"100"},e)))}function v(e){return o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",Object.assign({type:"submit",value:"Submit"},e,{className:"btn btn-primary"}),e.children))}n(55);var w=function e(t,n,a,o,r){Object(c.a)(this,e),this.content=t,this.number=n,this.label=a,this.word=r,this.help=o},y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={stories:[],inputs:[],data:[],showTextArea:!0,words:[]},n.getWords=function(e){var t=[];return["VMOD","DOBJ","POBJ","AMOD","NN","RCMOD","APPO","NSUBJ","XCOMP"].forEach(function(n){e.filter(function(e){return e.dependencyEdge.label===n}).forEach(function(n){var a;if("PROPER"!==n.partOfSpeech.proper&&"PRON"!==n.partOfSpeech.tag&&"NUM"!==n.partOfSpeech.tag&&"be"!==n.lemma){switch(n.dependencyEdge.label){case"VMOD":a="Enter a verb that modifies a noun (e.g. shag, disgusted)...";break;case"DOBJ":case"POBJ":a="PLURAL"===n.partOfSpeech.number?"Enter a plural noun...":"Enter a noun...";break;case"AMOD":a="Enter an adjective...";break;case"NN":a="Enter a noun you would use to describe something... e.g. gold, leather, office";break;case"RCMOD":a="Enter a verb relative clause modifier (e.g. kills, sleeps with)...";break;case"APPO":case"NSUBJ":a="PLURAL"===n.partOfSpeech.number?"Enter a plural noun...":"Enter a noun...";break;case"XCOMP":a="Enter a verb clausal complement (e.g. kidnap, ride)..."}t.push(new w(n.text.content,e.indexOf(n),n.dependencyEdge.label,a))}})}),n.setState({inputs:t}),console.log(n.state.inputs),t},n.joinWords=function(e,t){var n=[],a=[];t.forEach(function(e){a.push(e.content)}),e.forEach(function(o){if(a.includes(o.text.content)){var r=e.indexOf(o);t.forEach(function(e){e.number===r&&n.push(e.word)})}else n.push(o.text.content)});var o=n.join(" ");return o=(o=o.replace(/\s+(\W)/g,"$1")).replace(/-\s/g,"-")},n.handleFormSubmit=function(e){e.preventDefault(),g.sendText({document:{type:"PLAIN_TEXT",content:n.state.synopsis}}).then(function(e){e.data.entities;var t=e.data.tokens;console.log(t),n.getWords(t),n.randomizeInputs(),document.getElementById("input-container").firstChild.focus(),n.setState({data:t}),n.setState({showTextArea:!1})})},n.handleWordSubmit=function(e){e.preventDefault()},n.handleInputChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(p.a)({},a,o))},n.handleKeyPress=function(e){"Enter"==e.key&&console.log("pressed enter")},n.getStory=function(){console.log("creating story"),console.log(n.state.inputs),document.getElementById("story-container").textContent=n.joinWords(n.state.data,n.state.inputs)},n.randomizeInputs=function(){for(var e=document.querySelector("#input-container"),t=e.children.length;t>=0;t--)e.appendChild(e.children[Math.random()*t|0])},n.handleKeyDownInput=n.handleKeyDownInput.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleKeyDownInput",value:function(e){var t=this;if("Enter"===e.key){e.preventDefault();var n=e.target.name;this.state.inputs.forEach(function(t){t.number==n&&(t.word=e.target.value)});var a=[];this.state.inputs.forEach(function(e){e.word&&(a.push(e.word),t.setState({words:t.state.words+1}))}),console.log(a),this.state.inputs.length===a.length?(document.getElementById("input-container").innerHTML="",document.getElementById("counter").innerHTML="",this.getStory()):(e.target.nextSibling.focus(),document.getElementById("input-container").firstChild.remove())}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("h3",null,"Copy Paste Replace"),this.state.showTextArea?null:o.a.createElement("div",{id:"counter"},this.state.words.length,"/",this.state.inputs.length),o.a.createElement("form",null,this.state.showTextArea?o.a.createElement("div",null,o.a.createElement(E,{name:"synopsis",placeholder:"Paste your story here...",onChange:this.handleInputChange}),o.a.createElement(v,{disabled:!this.state.synopsis,onClick:this.handleFormSubmit},"Submit Story")):null),o.a.createElement("br",null),o.a.createElement("div",{id:"input-container"},this.state.inputs.map(function(t){return o.a.createElement(b,{name:t.number,key:t.number,placeholder:t.help,onChange:e.handleInputChange,onKeyDown:e.handleKeyDownInput})})),o.a.createElement("div",{id:"story-container"}))}}]),t}(a.Component),O=n(63),k=n(65),j=n(64),P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(O.a,null,o.a.createElement("div",null,o.a.createElement(k.a,null,o.a.createElement(j.a,{exact:!0,path:"/",component:y}))))}}]),t}(a.Component),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(P,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");x?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):S(e)})}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.f2601958.chunk.js.map